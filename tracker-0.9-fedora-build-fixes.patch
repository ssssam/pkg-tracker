--- docs/tools/Makefile.am	2010-12-01 05:37:10.000000000 -0500
+++ docs/tools/Makefile.am.new	2010-12-03 21:28:47.235232125 -0500
@@ -12,7 +12,10 @@
 LDADD =                                                \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
 	$(top_builddir)/src/libtracker-data/libtracker-data.la \
-	$(LIBTRACKER_DATA_LIBS)
+	$(LIBTRACKER_DATA_LIBS)					\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-data/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-sparql/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-common/.libs
 
 ontology_graph_SOURCES =                               \
 	ontology-graph.c
--- docs/tools/Makefile.in	2010-12-02 11:15:45.000000000 -0500
+++ docs/tools/Makefile.in.new	2010-12-03 21:31:39.137243927 -0500
@@ -410,7 +410,10 @@
 LDADD = \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
 	$(top_builddir)/src/libtracker-data/libtracker-data.la \
-	$(LIBTRACKER_DATA_LIBS)
+	$(LIBTRACKER_DATA_LIBS)					\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-data/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-sparql/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-common/.libs
 
 ontology_graph_SOURCES = \
 	ontology-graph.c
--- docs/reference/libtracker-client/Makefile.am	2010-11-10 10:58:55.000000000 -0500
+++ docs/reference/libtracker-client/Makefile.am.new	2010-12-03 21:44:30.717843736 -0500
@@ -36,7 +36,9 @@
 GTKDOC_LIBS =                                          \
 	$(top_builddir)/src/libtracker-client/libtracker-client-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
-	$(LIBTRACKER_CLIENT_LIBS)
+	$(LIBTRACKER_CLIENT_LIBS)					\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-client/.libs		\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-common/.libs
 
 # Extra options to supply to gtkdoc-mkdb
 MKDB_OPTIONS = --sgml-mode --output-format=xml
--- docs/reference/libtracker-client/Makefile.in	2010-12-02 11:15:44.000000000 -0500
+++ docs/reference/libtracker-client/Makefile.in.new	2010-12-03 21:45:23.520865732 -0500
@@ -400,7 +400,9 @@
 GTKDOC_LIBS = \
 	$(top_builddir)/src/libtracker-client/libtracker-client-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
-	$(LIBTRACKER_CLIENT_LIBS)
+	$(LIBTRACKER_CLIENT_LIBS)					\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-client/.libs		\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-common/.libs
 
 
 # Extra options to supply to gtkdoc-mkdb
--- docs/reference/libtracker-extract/Makefile.am	2010-11-10 10:58:55.000000000 -0500
+++ docs/reference/libtracker-extract/Makefile.am.new	2010-12-03 21:47:24.501864478 -0500
@@ -34,7 +34,9 @@
 GTKDOC_LIBS =                                          \
 	$(top_builddir)/src/libtracker-extract/libtracker-extract-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
-	$(LIBTRACKER_EXTRACT_LIBS)
+	$(LIBTRACKER_EXTRACT_LIBS)				\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-extract/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-common/.libs
 
 # Extra options to supply to gtkdoc-mkdb
 MKDB_OPTIONS = --sgml-mode --output-format=xml
--- docs/reference/libtracker-extract/Makefile.in	2010-12-02 11:15:45.000000000 -0500
+++ docs/reference/libtracker-extract/Makefile.in.new	2010-12-03 21:48:32.781865171 -0500
@@ -397,7 +397,9 @@
 GTKDOC_LIBS = \
 	$(top_builddir)/src/libtracker-extract/libtracker-extract-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
-	$(LIBTRACKER_EXTRACT_LIBS)
+	$(LIBTRACKER_EXTRACT_LIBS)				\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-extract/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-common/.libs
 
 
 # Extra options to supply to gtkdoc-mkdb
--- docs/reference/libtracker-miner/Makefile.am	2010-11-10 10:58:55.000000000 -0500
+++ docs/reference/libtracker-miner/Makefile.am.new	2010-12-03 21:51:13.275061430 -0500
@@ -46,7 +46,10 @@
 	$(top_builddir)/src/libtracker-miner/libtracker-miner-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
-	$(LIBTRACKER_MINER_LIBS)
+	$(LIBTRACKER_MINER_LIBS)				\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-miner/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-sparql/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-common/.libs
 
 # Extra options to supply to gtkdoc-mkdb
 MKDB_OPTIONS=--sgml-mode --output-format=xml
--- docs/reference/libtracker-miner/Makefile.in	2010-12-02 11:15:45.000000000 -0500
+++ docs/reference/libtracker-miner/Makefile.in.new	2010-12-03 21:52:31.387843244 -0500
@@ -410,7 +410,10 @@
 	$(top_builddir)/src/libtracker-miner/libtracker-miner-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
-	$(LIBTRACKER_MINER_LIBS)
+	$(LIBTRACKER_MINER_LIBS)				\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-miner/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-sparql/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-common/.libs
 
 
 # Extra options to supply to gtkdoc-mkdb
--- docs/reference/libtracker-sparql/Makefile.am	2010-11-10 10:58:55.000000000 -0500
+++ docs/reference/libtracker-sparql/Makefile.am.new	2010-12-03 21:53:49.711842894 -0500
@@ -34,7 +34,9 @@
 GTKDOC_LIBS =                                          \
 	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
-	$(LIBTRACKER_SPARQL_LIBS)
+	$(LIBTRACKER_SPARQL_LIBS)				\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-sparql/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-common/.libs
 
 # Extra options to supply to gtkdoc-mkdb
 MKDB_OPTIONS = --sgml-mode --output-format=xml
--- docs/reference/libtracker-sparql/Makefile.in	2010-12-02 11:15:45.000000000 -0500
+++ docs/reference/libtracker-sparql/Makefile.in.new	2010-12-03 21:54:42.545968217 -0500
@@ -397,7 +397,9 @@
 GTKDOC_LIBS = \
 	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
-	$(LIBTRACKER_SPARQL_LIBS)
+	$(LIBTRACKER_SPARQL_LIBS)				\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-sparql/.libs	\
+	-Wl,-rpath,$(top_builddir)/src/libtracker-common/.libs
 
 
 # Extra options to supply to gtkdoc-mkdb
--- utils/services/Makefile.am	2010-10-28 07:27:34.000000000 -0400
+++ utils/services/Makefile.am.new	2010-11-02 13:42:30.907233528 -0400
@@ -12,6 +12,7 @@
 LDADD =                                                \
 	$(top_builddir)/src/libtracker-data/libtracker-data.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
+	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(BUILD_LIBS)                                  \
 	$(LIBTRACKER_DATA_LIBS)
 
--- utils/services/Makefile.in	2010-10-28 10:35:24.000000000 -0400
+++ utils/services/Makefile.in.new	2010-11-02 13:42:54.921982795 -0400
@@ -404,6 +404,7 @@
 LDADD = \
 	$(top_builddir)/src/libtracker-data/libtracker-data.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
+	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(BUILD_LIBS)                                  \
 	$(LIBTRACKER_DATA_LIBS)
 
--- utils/tracker-sql/Makefile.am	2010-11-11 06:47:26.000000000 -0500
+++ utils/tracker-sql/Makefile.am.new	2010-11-11 22:09:02.945110269 -0500
@@ -11,6 +11,7 @@
 LDADD =                                                \
 	$(top_builddir)/src/libtracker-data/libtracker-data.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
+	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(TRACKER_UTILS_LIBS)
 
 tracker_sql_SOURCES = tracker-sql.c
--- utils/tracker-sql/Makefile.in	2010-11-11 12:23:57.000000000 -0500
+++ utils/tracker-sql/Makefile.in.new	2010-11-11 22:09:57.374734659 -0500
@@ -399,6 +399,7 @@
 LDADD = \
 	$(top_builddir)/src/libtracker-data/libtracker-data.la \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
+	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(TRACKER_UTILS_LIBS)
 
 tracker_sql_SOURCES = tracker-sql.c
--- tests/libtracker-client/Makefile.am	2010-10-28 07:27:34.000000000 -0400
+++ tests/libtracker-client/Makefile.am.new	2010-11-02 13:56:19.094236462 -0400
@@ -13,6 +13,7 @@
 
 LDADD =                                                \
 	$(top_builddir)/src/libtracker-client/libtracker-client-@TRACKER_API_VERSION@.la \
+	$(top_builddir)/src/libtracker-common/libtracker-common.la \
 	$(BUILD_LIBS)                                  \
 	$(LIBTRACKER_CLIENT_LIBS)
 
--- tests/libtracker-client/Makefile.in	2010-10-28 10:35:21.000000000 -0400
+++ tests/libtracker-client/Makefile.in.new	2010-11-02 13:56:43.708234437 -0400
@@ -394,6 +394,7 @@
 
 LDADD = \
 	$(top_builddir)/src/libtracker-client/libtracker-client-@TRACKER_API_VERSION@.la \
+	$(top_builddir)/src/libtracker-common/libtracker-common.la \
 	$(BUILD_LIBS)                                  \
 	$(LIBTRACKER_CLIENT_LIBS)
 
--- tests/libtracker-data/Makefile.am	2010-10-28 07:27:34.000000000 -0400
+++ tests/libtracker-data/Makefile.am.new	2010-11-02 13:59:25.166864064 -0400
@@ -45,6 +45,7 @@
 LDADD =                                                \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
 	$(top_builddir)/src/libtracker-data/libtracker-data.la \
+	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/tests/common/libtracker-testcommon.la \
 	$(BUILD_LIBS)                                  \
 	$(LIBTRACKER_DATA_LIBS)
--- tests/libtracker-data/Makefile.in	2010-10-28 10:35:21.000000000 -0400
+++ tests/libtracker-data/Makefile.in.new	2010-11-02 13:59:57.944983215 -0400
@@ -522,6 +522,7 @@
 LDADD = \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
 	$(top_builddir)/src/libtracker-data/libtracker-data.la \
+	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/tests/common/libtracker-testcommon.la \
 	$(BUILD_LIBS)                                  \
 	$(LIBTRACKER_DATA_LIBS)
--- tests/libtracker-fts/Makefile.am	2010-10-28 07:27:34.000000000 -0400
+++ tests/libtracker-fts/Makefile.am.new	2010-11-02 14:02:54.721996904 -0400
@@ -24,6 +24,7 @@
 LDADD =                                                \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
 	$(top_builddir)/src/libtracker-data/libtracker-data.la \
+	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/tests/common/libtracker-testcommon.la \
 	$(BUILD_LIBS)                                  \
 	$(LIBTRACKER_FTS_LIBS)
--- tests/libtracker-fts/Makefile.in	2010-10-28 10:35:23.000000000 -0400
+++ tests/libtracker-fts/Makefile.in.new	2010-11-02 14:03:15.048983075 -0400
@@ -461,6 +461,7 @@
 LDADD = \
 	$(top_builddir)/src/libtracker-common/libtracker-common.la \
 	$(top_builddir)/src/libtracker-data/libtracker-data.la \
+	$(top_builddir)/src/libtracker-sparql/libtracker-sparql-@TRACKER_API_VERSION@.la \
 	$(top_builddir)/tests/common/libtracker-testcommon.la \
 	$(BUILD_LIBS)                                  \
 	$(LIBTRACKER_FTS_LIBS)
